<!DOCTYPE html>
<html>
<head>
	<title>TON Game</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<style type="text/css">
		html,body {
			background-color: #333;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			margin: 0;
			padding: 0;
			font-size: 12pt;
		}

		#canvas {
			width: 480px;
			height: 320px;
			border: 1px solid #3b3d42;
			image-rendering: optimizeSpeed;
			-webkit-interpolation-mode: nearest-neighbor;
		}

		#noCanvas {
			padding: 90px 32px;
			font-weight: bold;
			border: 1px solid #3b3d42;
			background-color: #000;
		}

		.inputName{
			display:flex;
			justify-content: center;
			align-items: center;
			flex-direction: row;
			padding: 1em;
			margin: 1em;
		}

		.createGame {
			display: inline-block;
			outline: 0;
			border: none;
			cursor: pointer;
			padding: 0 24px;
			border-radius: 50px;
			min-width: 200px;
			height: 50px;
			font-size: 18px;
			background-color: rgb(241, 91, 10);
			font-weight: 500;
			color: #222;
		}
		.createGame:hover {
			background-color: rgb(168, 72, 20);
		}

		.inputName {
			padding: 1 em;

		}

		/* Chrome, Safari, Edge, Opera */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}
		/* Firefox */
		input[type=number] {
			-moz-appearance: textfield;
		}
		.startContainer {
			display:flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			height: 500px;
			padding: 25px;
		}
		.flexBox {
			display: flex;
			flex-direction: column;
			max-width: 1000px;
			max-height: 1000px;
			justify-content: center;
		}
		.startBtn {
			display: inline-block;
			outline: 0;
			border: none;
			cursor: pointer;
			padding: 0 24px;
			border-radius: 50px;
			min-width: 200px;
			height: 50px;
			font-size: 18px;
			background-color: #fd0;
			font-weight: 500;
			color: #222;
			margin: 10px 0;
		}
		.startBtn:hover {
			background-color: rgb(204, 184, 54);
		}
		.canvasWrapper {
			margin: 50px;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		#room {
			display: flex;
			flex-direction: column;
			max-width: 500px;
			justify-content: space-between;
		}
		#startStage {
			display: inherit;
		}
		.loader {
			width: 24px;
			height: 24px;
			border: 5px solid rgb(160, 48, 48);
			border-bottom-color: transparent;
			border-radius: 50%;
			display: inline-block;
			box-sizing: border-box;
			animation: rotation 1s linear infinite;
			}

			@keyframes rotation {
			0% {
				transform: rotate(0deg);
			}
			100% {
				transform: rotate(360deg);
			}
		}
		#canvasHeader {
			padding: 0 24px;
			margin: 25px;
		}

		/* Chrome, Safari, Edge, Opera */
		input::-webkit-outer-spin-button,
		input::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}
		/* Firefox */
		input[type=number] {
			-moz-appearance: textfield;
		}
		.startContainer {
			display:flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			height: 600px;
			padding: 25px;
		}
		.flexBox {
			display: flex;
			flex-direction: column;
			max-width: 1000px;
			max-height: 1000px;
			justify-content: center;
		}
		.startBtn {
			display: inline-block;
			outline: 0;
			border: none;
			cursor: pointer;
			padding: 0 24px;
			border-radius: 50px;
			min-width: 200px;
			height: 50px;
			font-size: 18px;
			background-color: #fd0;
			font-weight: 500;
			color: #222;
			margin: 10px 0;
		}
		.startBtn:hover {
			background-color: rgb(204, 184, 54);
		}
		.canvasWrapper {
			margin: 50px;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		#room {
			display: flex;
			flex-direction: column;
			max-width: 500px;
			justify-content: space-between;
		}
		#startStage {
			display: inherit;
		}
		.loader {
			width: 24px;
			height: 24px;
			border: 5px solid rgb(160, 48, 48);
			border-bottom-color: transparent;
			border-radius: 50%;
			display: inline-block;
			box-sizing: border-box;
			animation: rotation 1s linear infinite;
			}

			@keyframes rotation {
			0% {
				transform: rotate(0deg);
			}
			100% {
				transform: rotate(360deg);
			}
		}
		#canvasHeader {
			padding: 0 24px;
			margin: 25px;
		}
		.startBalances {
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			margin: 25px;
		}
		#feeInfo {
			color:rgb(195, 191, 191);
			font-size: 12px;
		}
		.maxBtn {
		position: absolute;
		max-width: 60px;
		height: 24px;
		font-size: 10px;
		background-color: #D3D3D3;
		color:#000;
		top:5px;
		}
		.withdrawBtn {
			position: absolute;
		}
		.withdrawWrapper {
			width: 280px;
		}
	</style>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>

    <script type="text/javascript" src="dist/index.js"></script>
    <script type="text/javascript" src="lib/net/socket.io.js"></script>
    <script type="text/javascript" src="lib/net/adapter.js"></script>
	<script type="text/javascript" src="lib/messages.js"></script>
	<script type="text/javascript" src="game.min.js"></script>
	<script type="text/javascript" src="lib/game/entities/player.js"></script>
	<script type="text/javascript" src="lib/game/entities/remote-player.js"></script>
	<script type="text/javascript" src="lib/game/levels/main.js"></script>
	<script type="text/javascript" src="lib/game/events.js"></script>
	<script type="text/javascript" src="/lib/ton/tonweb.js"></script>
	<script type="text/javascript" src="lib/ton/channels.js"></script>
	<script type="text/javascript" src="lib/net/peer-connection.js"></script>
	<script type="text/javascript" src="lib/net/room-connection.js"></script>
	<script type="text/javascript" src="lib/game/main.js"></script>
</head>
<body>
	<div class="canvasWrapper">
		<span id="gameName" class="canvasHeader" style="display: none;">Game name: </span>
		<span id="internalWallet" class="canvasHeader" style="display: none;">Your in-game wallet: </span>
		<span id="tonBalance" class="canvasHeader" style="display: none;">Your TON balance: </span>
		<span id="internalBalance" class="canvasHeader" style="display: none;">Your in-game TON balance: </span>
		<span id="ingameBalance" class="canvasHeader" style="display: none;">Your in-game balance: </span>
		<span id="enemyBalance" class="canvasHeader" style="display: none;">Your enemy in-game balance: </span>
		<button class="startBtn" id="finishGame" style="display:none">Finish Game</button>
		<canvas id="canvas" style="display: none;"></canvas>
		<div id="info" style="display: none;">
			11. WSAD to move & jump<br/>
			2. Spacebar to shoot<br/>
			3. Collect tubes to recharge weapon<br/>
			4. Be careful of lava burns!<br/>
		</div>
	</div>
	<div id="start" >
		<div class="startContainer">
			<h1 id="walletHeader">Please connect wallet</h1>
			<button class="startBtn" id="connect">Connect Wallet</button>
			<span id="startTonBalance" style="display:none">Your TON balanceL</span>
			<div class="withdrawWrapper">
				<input class="form-control" type="number" placeholder="Deposit amount" id="depositInput" style="display:none">
			</div>
			<button class="startBtn" id="depositLoad" style="display:none"><span class="loader"></span></button>
			<button class="startBtn" id="deposit" style="display:none">Deposit</button>
			<p id="feeInfo" style="display:none">...</p>
			<span id="startInternalBalance" style="display:none">Your in-game TON balance:</span>
			<div class="input-group withdrawWrapper">
				<input type="number" class="form-control" placeholder="Withdrawal amount" id="withdrawInput" style="display:none">
				<button class="btn btn-outline-secondary" id="maxWithdraw" style="display:none">MAX</button>
			</div>
			<button class="startBtn" id="withdrawLoad" style="display:none"><span class="loader"></span></button>
			<button class="startBtn" id="withdraw" style="display:none">Withdraw</button>	
			<!-- <input class="startBtn" id="connect" type="button" value="Connect Wallet"/> -->
			<div id="room" style="display:none">
				<div class="input-group mb-3 p-3">
					<input type="text" class="form-control" placeholder="Name of play" aria-label="Name of play" aria-describedby="button-addon2" disabled="disabled" id="inputName">
					<button class="btn btn-outline-secondary" type="button" disabled="disabled" id="name">To play</button>
				</div>
				<button class="createGame btn btn-white btn-big" disabled="disabled" id="createGame">Create Game</button>	
				<div class="alert alert-danger m-3"  role="alert" id="allertBalance" style="display: none;">
					Game ballance must be more than 1 TON
				</div>
			</div>
		
		</div>
	</div>
	</div>
</body>
</html>
